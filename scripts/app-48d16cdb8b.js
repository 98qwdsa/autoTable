/******/!function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}// webpackBootstrap
/******/
var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}var o=(a(1),a(2),a(3)),l=a(4),r=n(l);angular.module("tableZcs",["ui.bootstrap","toastr"]).constant("TABLE_BASE",r.TABLE_BASE).service("tbaleService",r.tbaleService).directive("tableZcs",r.tableZcs).controller("MainController",o.MainController)},function(e,t){"use strict";function a(e,t){"ngInject";e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0}a.$inject=["$logProvider","toastrConfig"],Object.defineProperty(t,"__esModule",{value:!0}),t.config=a},function(e,t){"use strict";function a(e){"ngInject";e.debug("runBlock end")}a.$inject=["$log"],Object.defineProperty(t,"__esModule",{value:!0}),t.runBlock=a},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.MainController=["tbaleService","TABLE_BASE","$scope","$log",function n(e,t,o,l){"ngInject";function r(){var e=arguments.length<=0||void 0===arguments[0]?5:arguments[0],t=arguments.length<=1||void 0===arguments[1]?20:arguments[1],a=t-e,n=Math.random(),o=e+Math.round(n*a);return o}a(this,n),o.tableBody=e.getTableBody(),o.tableFilter=t.keyArr.slice(0,r(5,t.keyArr.length)),o.theadConf=e.getTableHeads(o.tableFilter),o.$on("theadConfChanges",function(e,t){o.theadConf=t}),o.$on("filterArrChanged",function(t,a){o.theadConf=e.getTableHeads(a,o.theadConf),l.log(o.theadConf)}),o.$on("tbalePageParamChange",function(){o.tableBody=e.getTableBody()}),o.$on("rowActionsClick",function(e,t){o.rowConf=angular.copy(t),o.rowkeys=Object.keys(o.rowConf.rowData),angular.element("#nowRowEditBox").modal("toggle")}),o.submitEdit=function(){o.$broadcast("editRowData",o.rowConf),angular.element("#nowRowEditBox").modal("toggle")},o.tableConf={showCog:!0,actions:[{type:"edit",name:"编辑"},{type:"action",name:"操作"}]}}]},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){"ngInject";function e(e,t,a){e.$watch(function(){return a.theadConf},function(t){angular.isUndefined(t)||""===t||(e.table.theadConf=angular.fromJson(t))}),e.$watch(function(){return a.tbodyArr},function(t){angular.isUndefined(t)||""===t||(e.table.tbodyArr=angular.fromJson(t))}),e.$watch(function(){return a.tableFilter},function(t){angular.isUndefined(t)||""===t||(e.table.filter=angular.fromJson(t))}),e.$watch(function(){return a.tableConf},function(t){angular.isUndefined(t)||""===t||(e.table.conf=Object.assign({},e.table.conf,angular.fromJson(t)))}),e.table.elm=t;var n=t.find("div.table");n.on("scroll",function(){e.navLeft=-n.scrollLeft(),e.$apply()})}var t={restrict:"E",replace:!0,templateUrl:"app/components/tableZcs/table_tmp.html",controller:i,scope:{},link:e};return t}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.tableZcs=n;var r=t.TABLE_BASE={curNum:40,curIndex:1,keyArr:[]},i=(t.tbaleService=function(){function e(t){"ngInject";function n(){var e=arguments.length<=0||void 0===arguments[0]?5:arguments[0],t=arguments.length<=1||void 0===arguments[1]?20:arguments[1],a=t-e,n=Math.random(),o=e+Math.round(n*a);return o}function o(e){for(var t=e.length,a=new Array,n=0;t>n;n++)a[n]=n;for(var o=new Array,l=0;t>l;l++)o[l]=a.splice(Math.floor(Math.random()*a.length),1);for(var r=new Array,i=0;t>i;i++)r[i]=e[o[i]];return r}a(this,e);for(var l=new Array(n()),r=0;r<l.length;r++)l[r]=Mock.mock("@word(3, 10)");this.keyArr=t.keyArr=l;var i=["@natural(0, 10000)","@string(7, 10)",'@datetime("yyyy-MM-dd A HH:mm:ss")',"@paragraph(1, 3)","@word(3, 5)","@title(3, 5)","@cparagraph(1, 3)","@csentence(3, 5)","@url()","@email()","@ip()","@county(true)","@guid()","@id()","@name(true)"];this.mockArr=o(i)}return e.$inject=["TABLE_BASE"],l(e,[{key:"getTableHeads",value:function(e,t){var a=this;if(angular.isDefined(t)){var n=function(a){var n={checked:!1};e.forEach(function(e){a===e&&(n.checked=!0)}),t[a]=Object.assign({},t[a],n)};for(var l in t)n(l);return t}var r=function(){var t={},n=a.keyArr;return n.forEach(function(a){var n=!1;e.forEach(function(e){a===e&&(n=!0),t[a]={key:a,value:Mock.mock("@ctitle(3, 10)"),checked:n,width:0}})}),{v:t}}();return"object"===("undefined"==typeof r?"undefined":o(r))?r.v:void 0}},{key:"getTableBody",value:function(){for(var e=arguments.length<=0||void 0===arguments[0]?{num:r.curNum,index:1}:arguments[0],t=this.keyArr,a=[],n=this.mockArr,o=0;o<e.num;o++){for(var l={},i=0;i<t.length;i++){var c=n[i]||"@ctitle(3, 5)";l[t[i]]=Mock.mock(c)}a.push(l)}return a}}]),e}(),function c(e,t){"ngInject";a(this,c),e.$on("editRowData",function(t,a){e.table.tbodyArr[a.rowIndex]=Object.assign({},e.table.tbodyArr[a.rowIndex],a.rowData)}),e.table=Object.assign({},r),e.table.conf={showCog:!0,actions:[],actionsWidth:0},e.$watch("table.conf.actions",function(t){if(!angular.isUndefined(t)){var a=0;t.forEach(function(e){a+=8*o(e.name)+20}),e.table.conf.actionsWidth=a}}),e.$watch("table.filter",function(t){if(!angular.isUndefined(t)){for(var a in e.table.theadConf)e.table.theadConf[a].checked=!1,t.forEach(function(t){e.table.theadConf[t].checked=!0;var a=8*o(e.table.theadConf[t].value),n=e.table.theadConf[t].width;e.table.theadConf[t].width=a>n?a:n});n()}}),e.tableStyle={"overflow-x":"hidden",width:10,"overflow-y":"hidden"},e.$watch("table.tbodyArr",function(t){angular.isUndefined(t)||(t.forEach(function(t){for(var a in t){var n=8*o(t[a])+2;n=n>200?200:n,n>e.table.theadConf[a].width&&(e.table.theadConf[a].width=n)}}),e.$emit("theadConfChanges",e.table.theadConf),n())},!0);var n=function(){e.tableStyle.width=e.table.conf.actionsWidth+10;for(var t in e.table.theadConf)e.table.theadConf[t].checked&&(e.tableStyle.width+=e.table.theadConf[t].width);var a={};a=e.tableStyle.width>e.table.elm.width()?{"overflow-x":"scroll"}:{width:e.table.elm.width(),"overflow-x":"hidden"},a=24*e.table.tbodyArr.length>e.table.elm.find("ul.table-body").height()?Object.assign({},a,{"overflow-y":"scroll"}):Object.assign({},a,{"overflow-y":"hidden"}),e.tableStyle=Object.assign({},e.tableStyle,a)};e.setCurNum=function(t){r.curNum=t,e.table=Object.assign(e.table,r),e.$emit("tbalePageParamChange",{curNum:t})},e.setCurIndex=function(t){r.curIndex=t,e.table=Object.assign(e.table,r),e.$emit("tbalePageParamChange",{curIndex:t})},e.showFilterBox=function(){angular.element("#myModal").modal("toggle")},e.changeFilter=function(){var t=[];e.table.elm.find("div.modal-body input:checkbox").each(function(e,a){angular.element(a).is(":checked")&&t.push(angular.element(a).attr("key"))}),e.table.filter=t,angular.element("#myModal").modal("toggle"),e.$emit("filterArrChanged",t)},e.theadConfActions=function(t){e.table.elm.find("div.modal-body input:checkbox").each(function(e,a){angular.element(a).prop("checked",!0),t&&e>5&&angular.element(a).prop("checked",!1)})},e.rowClick=function(t,a,n){e.$emit("rowActionsClick",{rowData:t,rowIndex:a,actions:n})};var o=function(e){for(var t=0,a=e.length,n=-1,o=0;a>o;o++)n=e.charCodeAt(o),t+=n>=0&&128>=n?1:2;return t}});i.$inject=["$scope","$log"]}]),angular.module("tableZcs").run(["$templateCache",function(e){e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class=container-fluid><div class=navbar-header><a class=navbar-brand href=https://github.com/Swiip/generator-gulp-angular><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-6><ul class="nav navbar-nav"><li class=active><a ng-href=#>Home</a></li><li><a ng-href=#>About</a></li><li><a ng-href=#>Contact</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>'),e.put("app/components/tableZcs/table_tmp.html",'<div class=table-warp><nav><ul class="pagination pagination-sm fltl"><li ng-repeat="i in [20,40,60,80,100]" ng-class="{\'active\':i == table.curNum}" ng-click=setCurNum(i)><a href=#>{{i}}</a></li></ul><ul class="pagination pagination-sm fltr"><li><a href=# aria-label=Previous><span aria-hidden=true>&laquo;</span></a></li><li ng-repeat="i in [1,2,3]" ng-class="{\'active\':i == table.curIndex}" ng-click=setCurIndex(i)><a href=#>{{i}}</a></li><li><a href=# aria-label=Next><span aria-hidden=true>&raquo;</span></a></li></ul></nav><div class=table ng-style=tableStyle><div class=table-head ng-style={width:tableStyle.width,left:navLeft}><span ng-if=table.conf.showCog class="glyphicon glyphicon-cog" ng-click=showFilterBox();></span> <span ng-repeat="i in table.filter" ng-if=table.theadConf[i].checked ng-style={width:table.theadConf[i].width}>{{table.theadConf[i].value}} </span><span ng-style={width:table.conf.actionsWidth}>操作</span></div><ul class=table-body ng-style={width:tableStyle.width}><li ng-repeat=" i in table.tbodyArr" ng-init="rowData = i;rowIndex = $index"><span ng-repeat="n in table.filter" ng-style={width:table.theadConf[n].width}>{{i[n]}}</span> <span ng-style={width:table.conf.actionsWidth}><button ng-repeat="i in table.conf.actions" ng-click=rowClick(rowData,rowIndex,i) type=button class="btn btn-primary btn-sm">{{i.name}}</button></span></li></ul></div><!-- Modal --><div class="modal fade" id=myModal tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button><h4 class=modal-title id=myModalLabel>请选择要显示的字段</h4></div><div class=modal-body><p class=thead-conf-actions><a ng-click=theadConfActions(true);>全不选</a> <a ng-click=theadConfActions();>全选</a></p><label class=thead-conf ng-repeat=" i in table.theadConf"><input type=checkbox ng-checked=i.checked key={{i.key}}>{{i.value}}</label></div><div class=modal-footer><button type=button class="btn btn-primary" ng-click=changeFilter();>确定</button> <button type=button class="btn btn-default" data-dismiss=modal>取消</button></div></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-48d16cdb8b.js.map
